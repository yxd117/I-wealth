'use strict';

angular.module('financial').factory('FinancialHealthService', ['$resource', function($resource){


	//Tooltips
	var tipLiquidity = 'Use for analysing existing emergency funds. It is a prescribed practice to maintain 3-6 months of expenses as your emergency fund.<br> For example, if you are suddenly presented with an investment opportunity for which you must act fast,</br> you will probably look first to draw on your liquid assets.';

	var tipAssetDebt = 'This ratio compares the assets accumulated by an individual against the existing liabilities</br> and helps in determining what you own vs. what you owe.';

	var tipDebtService = 'This ratio defines how comfortable one is making his/her EMI (equated monthly installments) payments.';

	var tipHouseExpense = 'One of the best ways to determine how much housing you can afford is by calculating your housing expense ratio';

	var tipDebtIncome = 'Lenders look at this ratio when they are trying to decide whether to lend you money or extend credit.</br> A low DTI shows you have a good balance between debt and income. As you might guess, lenders like this number to be low -</br> generally you&#39;ll want to keep it below 3.6, but the lower it is, the greater the chance you will be able to get the loans or credit you seek.</br> Evidence from studies of mortgage loans suggest that borrowers with a higher debt-to-income ratio</br> are more likely to run into trouble making monthly payments.';

	var tipConsumerDebt = 'A high consumer debt ratio could point to excessive use of credit cards.';

	var tipNetWorthBenchmark = 'This metric is used to compare your actual net worth to a standard.</br> The net worth benchmark assumes that your net worth is a function of your earnings and your years of earnings';

	var tipSaving = 'It compares the monthly surplus being generated by an individual against total cash inflows.</br> It will give you valuable insight on how well your finances are being managed.</br> It also represents one&#39;s ability to achieve his/her future goals.</br>';

	var tipSolvency = 'Solvency ratio compares an individual&#39;s net worth against total assets accumulated by him/her.</br> This ratio indicates the ability of an individual to repay all his/her existing debts using existing assets in case of unforeseen events.';

	var tipInvestment = 'This ratio compares liquid assets being held by an individual against the total assets accumulated.</br> Investments in stocks, mutual funds or other such investments, which can be converted to cash easily, are considered as liquid assets.';

	var tips = {
		tipLiquidity: tipLiquidity,
		tipAssetDebt: tipAssetDebt,
		tipDebtService: tipDebtService,
		tipHouseExpense: tipHouseExpense,
		tipDebtIncome: tipDebtIncome,
		tipConsumerDebt: tipConsumerDebt,
		tipNetWorthBenchmark: tipNetWorthBenchmark,
		tipSaving: tipSaving,
		tipSolvency: tipSolvency,
		tipInvestment: tipInvestment
	};


	//---Liquidity---
	//Liquidity Ratio
	var analysisLiquidity = {
		//[3-6, >=6]
		healthy: ['You have a healthy liquidity ratio. This means that you are able to maintain 3-6 months of your current expenses as your emergency funds. For example, if you are suddenly presented with an investment opportunity where you must act fast, your liquid assets will come in handy.', 
		'You have a healthy liquidty ratio. This means that you are able to maintain more than 6 months of your current expenses as your emergency funds. However, this is more than the recommended ratio by experts as the liquid assets you hold on hand will depreciate with inflation if not managed well. Try looking into options to grow your excess liquid assets while maintaining the healthy ratio of 3 - 6'],
		//[0-3]
		unhealthy:['You have an unhealthy liquidity ratio. This means that you are not able to maintain a healthy portion of your expenses as your emergency fund']
	};

	//---Debt---
	//AssetDebt Ratio
	var analysisAssetDebt = {
		//[0-0.3, 0.4-0.6]
		healthy: ['You have a healthy debt to assets ratio. This means that you have a lesser proportion of loans to be paid as compared to your income. Maintaining a low debt-to-assets ratio shows banks that you have a low financial', 
		'You have a almost unhealthy debt to assets ratio. This means that you have lesser proportion of loans to be paid as compared to your income but the difference is small and it poses a risk to your financial health. Banks will view you to be more of financial risky than non-risky.'],
		//[>=0.6]
		unhealthy: ['You have an unhealthy debt-to-asset ratio. This means that your debts are more than 60% of your assets and hence making you to be in a risky financial situation. Banks in Singapore are no longer allowed to approve you for any more loans. Note: this ratio might be lower if you have recently purchased a house or car and will improve over time if you are financially healthy.']
	};

	//DebtService Ratio
	var analysisDebtService = {
		//[0-0.36]
		healthy: ['You have a healthy debt service ratio. This means that you are able to make your equated monthly installments comfortably.'],
		//[>0.36]
		unhealthy: ['You have an unhealthy debt service ratio. This means that paying your equated monthly installments is putting a pressure on your finances.']
	};

	//Housing Expense Ratio
	var analysisHouseExpense = {
		//[0-0.28]
		healthy: ['You have a healthy housing expense ratio. This means that you are spending a good and reasonable amount on housing expenses in proportion to your income.'],
		//[>0.28]
		unhealthy: ['You have an unhealthy housing expense ratio. This means that you are spending too much on housing expenses in proportion to your income.']
	};

	//Debt to Income Ratio
	var analysisDebtIncome = {
		//[0-0.4]
		healthy: ['You have a healthy debt-to-income ratio. This means that you have a good balance of between your debt and income. Lenders are willling to lend you money as you show a low financial risk behavior.'],
		//[>0.4]
		unhealthy: ['You have an unhealthy debt-to-income ratio. This means that the balance between your debt and income is not good. Lenders will often not lend you money as you exhibit high financial risk behaviour. Studies of mortgage loans have shown that borrowers with a higher debt-to-income ratio are more likely to run into trouble making monthly payments.']
	};

	//Consumer Debt Ratio
	var analysisConsumerDebt = {
		//[0-0.2]
		healthy: ['You have a healthy consumer debt ratio. This means that you are borrowing wisely.'],
		//[>0.2]
		unhealthy: ['You have an unhealthy consumer debt ratio. This means that you are borrowing unnecessarily and may have a serious debt problem. Only 5% of the population ows such high percentage of consumer debt. Seek help from a debt counsellor if you need to. In the meantime, stop using credit for your expenses.']
	};

	//--Net Worth/ Others---
	//Net Worth Benchmark
	var analysisNetWorthBenchmark = {
		//[>1, 0.75-1]
		healthy: ['Your networth is higher than your age&#39;s Networth Benchmark.', 'You are less than 15% away from your age&#39;s Networth Benchmark.'],
		//[0-0.75]
		unhealthy: ['You are below the networth benchmark for your age.']
	};

	//Saving Ratio
	var analysisSaving = {
		//[>0.7, 0.12-0.7]
		healthy: ['You have a healthy savings ratio. This means that you have a healthy surplus of money monthly. This shows that you are able to achieve your future goals easily. However, you may have an excessive amount of income surplus. You should look to investing to prevent inflation from depreciating the value of your savings.', 'You have a healthy savings ratio. This means that you have a healthy surplus of money monthly. This shows that you are able to achieve your future goals easily.'],
		//[0-0.12]
		unhealthy: ['You have an unhealthy savings ratio. This means that you may have difficulty in achieving future goals with your current monthly savings trend.']
	};

	//Solvency Ratio
	var analysisSolvency = {
		//[>0.2]
		healthy: ['You have a healthy solvency ratio. This means that you will be able to repay your existing debts using existing assets in an event of emergency base on your networth.'],
		//[0-0.2]
		unhealthy: ['You have an unhealthy solvency ratio. This means that you will have difficulty in repaying your existing debts using existing assets in an event of emergency base on your networth.']
	};

	//Investment Ratio
	var analysisInvestment = {
		//[>0.2]
		healthy: ['You have a healthy investment ratio. This means you have a healthy portion of liquid assets as compared to your total assets which can be converted to cash easily for times of need.'],
		//[0-0.2]
		unhealthy: ['You have an unhealthy investment ratio. This means that you hold a too small portion of liquid assets in proportion to your total assets. This means that you have lesser amounts of liquid assets that can be converted into cash easily for times of need.']
	};

	var analysisRatio = {
		analysisLiquidity: analysisLiquidity,
		analysisAssetDebt: analysisAssetDebt,
		analysisDebtService: analysisDebtService,
		analysisHouseExpense: analysisHouseExpense,
		analysisDebtIncome: analysisDebtIncome,
		analysisConsumerDebt: analysisConsumerDebt,
		analysisNetWorthBenchmark: analysisNetWorthBenchmark,
		analysisSaving: analysisSaving,
		analysisSolvency: analysisSolvency,
		analysisInvestment: analysisInvestment
	};

	return {
		tips: tips,
		analysisRatio: analysisRatio
	};
}]);