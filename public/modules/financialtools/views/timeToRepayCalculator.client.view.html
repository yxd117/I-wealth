<section data-ng-controller="LoanCalculatorController" class="content">
  <ul class="nav nav-tabs">
    <li role="presentation" ><a href="/#!/financialtools/loancalculator">How much will my repayments be?</a></li>
    <li role="presentation" ><a href="/#!/financialtools/amtborrow">How much can I borrow?</a></li>
    <li role="presentation" class="active"><a href="/#!/financialtools/timetorepay">How can I repay my loan sooner?</a></li>
  </ul>

 <div class="row">
    <div class="col-md-6">
      <h3>Ideal Monthly Repayment Amount</h3>
      <p>This calculator calculates the number of months and interest you need to repay the lender to clear the debt according to your monthly repayment amount. If you are paying the minimum repayment sum, you should compare how much interest you will be saving from increasing your monthly repayment sum.</p>
      
    </div>    
  </div>
  <hr>

 <div class="row">
  <p><small>Note: All fields are compulsory for calculation.</small></p>
  <div class="col-md-4">
    <h4 ng-show='isFormOpened'>Option 1</h4>
      <form name='CalculatorForm' class="form-horizontal" novalidate role='form'>
        <fieldset>
          <div class='form-group'>
            <label for='amtOwing' class="col-md-6" style="text-align:right">Amount Owing: </label>
            <div class="col-md-6">
               <input class='form-control' ng-model='calculator.amtOwing' name='amtOwing' type='number' min='1' required>
            </div>
          </div>
          <div class='form-group'>
            <label for='monthlyRepayment' class="col-md-6" style="text-align:right">Monthly Repayment: </label>
            <div class="col-md-6">
                <input class='form-control' ng-model='calculator.monthlyRepayment' name='monthlyRepayment' type='number' min='1' required>
            </div>
          </div>
          <div class='form-group'>
            <label for='interestRate' class="col-md-6" style="text-align:right">Applied Interest Rate (per annum): </label>
            <div class="col-md-6">
                <input class='form-control' ng-model='calculator.interestRate' name='interestRate' type='number' min='0.01' required>
            </div>
          </div>        
          <div class="col-md-12">
            <button class='btn btn-primary btn-lg btn-block' ng-click='calculateTimeToRepay()' ng-disabled='CalculatorForm.$invalid'> Submit
            </button>
            <button class='btn btn-primary btn-lg btn-block' ng-click='showCompareForm()' ng-disabled='CalculatorForm.$invalid'> Compare Alternative
          </button>  
          </div>
        </fieldset>
      </form>
    <br/><br/>
  </div>


  <div class="col-md-2" ng-show='isFormOpened'>
    <h4>Option 2</h4>
    <form name='CalculatorForm2' class="form-horizontal" novalidate role='form'>
      <fieldset>
        <div class='form-group'>
          <div class="col-md-12">
             <input class='form-control' ng-model='calculator2.amtOwing2' name='amtOwing2' type='number' min='1' placeholder="Amount Owing"required>
          </div>
        </div>
        <div class='form-group'>
          <div class="col-md-12">
              <input class='form-control' ng-model='calculator2.monthlyRepayment2' name='monthlyRepayment2' type='number' min='1' placeholder="Monthly Repayment" required>
          </div>
        </div>
        <div class='form-group'>
          <div class="col-md-12">
              <input class='form-control' ng-model='calculator2.interestRate2' name='interestRate2' type='number' min='0.01' placeholder="Applied Interest Rate" required>
          </div>
        </div>        
        <div class="col-md-12">
          <button class='btn btn-primary btn-lg btn-block' ng-click='calculateTimeToRepay2()' ng-disabled='CalculatorForm2.$invalid'> Submit
          </button>
        </div>
      </fieldset>
    </form>
</div>

<div class="col-md-6">
  <linechart data="barData" options="barOptions" width="600" height="400" data-ng-show="showChart"></linechart>
</div>

</div>  <!-- ROW  -->

<div class="row">
  <div class="col-md-5">
    <h4>Results</h4>
    <table class="table">
      <tr ng-show='isFormOpened'>
        <td>
        </td>
        <td>
          Option 1
        </td>
        <td>
          Option 2
        </td>
      </tr>
      <tr>
        <td>
          Time needed to repay loan 
        </td>
        <td>
          {{timeToRepay}}
        </td>
        <td ng-show='isFormOpened'>
          {{timeToRepay2}}
        </td>
      </tr>
      <tr>
        <td>
          The Interest you will be paying is  
        </td>
        <td>
          {{interestPaid | currency}}
        </td>
        <td ng-show='isFormOpened'>
          {{interestPaid2 | currency}}
        </td>
      </tr>
    </table>
  </div>
</div> <!-- ROW  -->

</section> 